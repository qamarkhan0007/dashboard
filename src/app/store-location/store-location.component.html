<app-navbar></app-navbar>
<br>
<div *ngIf='token'>
    <div class="container" *ngIf ="!statusform && !status">
        <div class="row">
            <div class="col-xs-18 col-md-12">
                <h1>{{brand}}</h1>
                <br>
                <div id="newStore">
                    <a (click)="createStoreStatus()">create new store</a>
                </div>
                <br>show
                <select [(ngModel)]="selectedValue" class="box">
                    <option [ngValue] = "10">10</option>
                    <option [ngValue] = "20">25</option>
                    <option [ngValue] = "50">50</option>
                    <option [ngValue] = "100">100</option>
                </select>entries
                <h5 align="right">Search <input type="text" name="search" [(ngModel)]="filter"></h5>
                <table class="table table-bordered custom-tbl">
                    <thead>
                        <tr>
                            <th [class.active]="order === 'kiosk_id'" (click)="setOrder('kiosk_id')">Kiosk Id<span [hidden]="reverse">▼</span><span [hidden]="!reverse">▲</span></th>
                            <th [class.active]="order === 'name'" (click)="setOrder('name')">Name<span [hidden]="reverse">▼</span><span [hidden]="!reverse">▲</span></th>
                            <th [class.active]="order === 'address1'" (click)="setOrder('address1')">Address<span [hidden]="reverse">▼</span><span [hidden]="!reverse">▲</span></th>
                            <th [class.active]="order === 'phone'" (click)="setOrder('phone')">Phone<span [hidden]="reverse">▼</span><span [hidden]="!reverse">▲</span></th>
                            <th [class.active]="order === 'pin_codes'" (click)="setOrder('pin_codes')">Pins<span [hidden]="reverse">▼</span><span [hidden]="!reverse">▲</span></th>
                        </tr>
                    </thead>
                    <tbody *ngFor="let store of data | orderBy: order :reverse:'case-insensitive' | filter:filter | paginate: { itemsPerPage: selectedValue, currentPage: CurrentPageValue} count as count">
                        <p *ngIf="countMe(count)"></p>
                        <td id = "newStore" [routerLink]="['./', store.kiosk_id]">{{store.kiosk_id}}</td>
                        <td>{{store.name}}</td>
                        <td>{{store.address.address1}}
                            {{store.address.address2}}
                            {{store.address.city}}
                            {{store.address.country}}
                            {{store.address.state}}
                        </td>
                        <td>{{store.address.phone}}</td>
                        <td>{{store.pin_codes}}</td>
                    </tbody>
                </table>
                <br>
                 show {{(CurrentPageValue * selectedValue)-(selectedValue-1)}} to {{arrLenght}} of {{data.length}} entries
                <div class="formatting">
                    <pagination-controls (pageChange)="CurrentPageValue = $event" maxSize="10"></pagination-controls>
                </div>
            </div>
        </div>
      </div>
    </div>
  </div>

  <div class="container" *ngIf = 'statusform'>
    <div class="row">
      <div class="col-xs-18 col-sm-12">
        <h1>{{brand}}</h1>
        <form class="form-horizontal" role="form" method="POST" action="/store_locations/classicspecs/new_store/ ">
          <div class="form-group">
            <label class="control-label col-sm-2" for="kiosk_id">Kiosk Id:</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" id="kiosk_id" name="kiosk_id" placeholder="Kiosk Id" value="" #kiosk_id required>
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-sm-2" for="name">Kiosk Name:</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" name="name" id="name" placeholder="Kiosk Name" value="" #kiosk_name required>
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-sm-2">Name for Mailing</label>
            <div class="controls col-sm-10">
              <input id="address_name" name="address_name" type="text" class="form-control input-xlarge" #nameMailing value="" required>
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-sm-2">Address Line 1</label>
            <div class="controls col-sm-10">
              <input id="address1" name="address1" type="text" placeholder="address line 1" class="form-control input-xlarge" #address1 value="" required>
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-sm-2">Address Line 2</label>
            <div class="controls col-sm-10">
              <input id="address2" name="address2" type="text" placeholder="address line 2" class="form-control input-xlarge" #address2 value="">
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-sm-2">City</label>
            <div class="controls col-sm-10">
              <input id="city" name="city" type="text" placeholder="City" class="form-control input-xlarge" #city value="" required>
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-sm-2">State</label>
            <div class="controls col-sm-4">
              <select id="country" name="state" class="input-xlarge form-control" #state required>
                <option value="AL" >Alabama</option>
                <option value="AK" >Alaska</option>
                <option value="AS" >American Samoa</option>
                <option value="AZ" >Arizona</option>
                <option value="AR" >Arkansas</option>
                <option value="CA" >California</option>
                <option value="CO" >Colorado</option>
                <option value="CT" >Connecticut</option>
                <option value="DE" >Delaware</option>
                <option value="DC" >District Of Columbia</option>
                <option value="FM" >Federated States Of Micronesia</option>
                <option value="FL" >Florida</option>
                <option value="GA" >Georgia</option>
                <option value="GU" >Guam</option>
                <option value="HI" >Hawaii</option>
                <option value="ID" >Idaho</option>
                <option value="IL" >Illinois</option>
                <option value="IN" >Indiana</option>
                <option value="IA" >Iowa</option>
                <option value="KS" >Kansas</option>
                <option value="KY" >Kentucky</option>
                <option value="LA" >Louisiana</option>
                <option value="ME" >Maine</option>
                <option value="MH" >Marshall Islands</option>
                <option value="MD" >Maryland</option>
                <option value="MA" >Massachusetts</option>
                <option value="MI" >Michigan</option>
                <option value="MN" >Minnesota</option>
                <option value="MS" >Mississippi</option>
                <option value="MO" >Missouri</option>
                <option value="MT" >Montana</option>
                <option value="NE" >Nebraska</option>
                <option value="NV" >Nevada</option>
                <option value="NH" >New Hampshire</option>
                <option value="NJ" >New Jersey</option>
                <option value="NM" >New Mexico</option>
                <option value="NY" >New York</option>
                <option value="NC" >North Carolina</option>
                <option value="ND" >North Dakota</option>
                <option value="MP" >Northern Mariana Islands</option>
                <option value="OH" >Ohio</option>
                <option value="OK" >Oklahoma</option>
                <option value="OR" >Oregon</option>
                <option value="PW" >Palau</option>
                <option value="PA" >Pennsylvania</option>
                <option value="PR" >Puerto Rico</option>
                <option value="RI" >Rhode Island</option>
                <option value="SC" >South Carolina</option>
                <option value="SD" >South Dakota</option>
                <option value="TN" >Tennessee</option>
                <option value="TX" >Texas</option>
                <option value="UT" >Utah</option>
                <option value="VT" >Vermont</option>
                <option value="VI" >Virgin Islands</option>
                <option value="VA" >Virginia</option>
                <option value="WA" >Washington</option>
                <option value="WV" >West Virginia</option>
                <option value="WI" >Wisconsin</option>
                <option value="WY" >Wyoming</option>
              </select>
            </div>
            <label class="control-label col-sm-2">Zip</label>
            <div class="controls col-sm-4">
              <input id="zip" name="zip" type="text" placeholder="Zip" class="form-control input-xlarge" #zip value="" required>
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-sm-2">Country</label>
            <div class="controls col-sm-10">
              <input id="country" name="country" type="text" placeholder="Country" class="form-control input-xlarge" #country value="" required>
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-sm-2" for="phone">Phone:</label>
            <div class="col-sm-10">
              <input type="tel" class="form-control" id="phone" name="phone" placeholder="Phone" value="" #phone required>
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-sm-2" for="is_cc_authorized">Is Authorized?</label>
            <div class="col-sm-10">

              <input type="checkbox" id="is_cc_authorized" name="is_cc_authorized"  #authorize>

              <label for="is_cc_authorized">Is Kiosk authorized to reuse customer credit cards?</label>
            </div>
          </div>
          <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
              <button type="submit" class="btn btn-default" (click)="createStore(kiosk_id.value, kiosk_name.value, address1.value, address2.value, city.value, state.value, zip.value, country.value,phone.value,authorize )">Submit</button>
            </div>
          </div>
        </form>

      </div>

    </div>
  </div>
</div>
